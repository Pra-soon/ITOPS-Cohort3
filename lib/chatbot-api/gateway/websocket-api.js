"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WebsocketBackendAPI = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
const constructs_1 = require("constructs");
class WebsocketBackendAPI extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        // Create the main Message Topic acting as a message bus
        const webSocketApi = new aws_cdk_lib_1.aws_apigatewayv2.WebSocketApi(this, 'WS-API');
        const webSocketApiStage = new aws_cdk_lib_1.aws_apigatewayv2.WebSocketStage(this, 'WS-API-prod', {
            webSocketApi,
            stageName: 'prod',
            autoDeploy: true,
        });
        this.wsAPI = webSocketApi;
        this.wsAPIStage = webSocketApiStage;
    }
}
exports.WebsocketBackendAPI = WebsocketBackendAPI;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2Vic29ja2V0LWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndlYnNvY2tldC1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNkNBQTBEO0FBQzFELDJDQUF1QztBQVN2QyxNQUFhLG1CQUFvQixTQUFRLHNCQUFTO0lBR2hELFlBQ0UsS0FBZ0IsRUFDaEIsRUFBVSxFQUNWLEtBQStCO1FBRS9CLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakIsd0RBQXdEO1FBQ3hELE1BQU0sWUFBWSxHQUFHLElBQUksOEJBQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzlELE1BQU0saUJBQWlCLEdBQUksSUFBSSw4QkFBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFO1lBQ3pFLFlBQVk7WUFDWixTQUFTLEVBQUUsTUFBTTtZQUNqQixVQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQztRQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLGlCQUFpQixDQUFDO0lBRXRDLENBQUM7Q0FFRjtBQXRCRCxrREFzQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjZGsgZnJvbSBcImF3cy1jZGstbGliXCI7XHJcbmltcG9ydCB7IGF3c19hcGlnYXRld2F5djIgYXMgYXBpZ3d2MiB9IGZyb20gXCJhd3MtY2RrLWxpYlwiO1xyXG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tIFwiY29uc3RydWN0c1wiO1xyXG5cclxuLy8gaW1wb3J0IHsgTmFnU3VwcHJlc3Npb25zIH0gZnJvbSBcImNkay1uYWdcIjtcclxuXHJcbmludGVyZmFjZSBXZWJzb2NrZXRCYWNrZW5kQVBJUHJvcHMgeyAgXHJcbiAgLy8gcmVhZG9ubHkgdXNlclBvb2w6IFVzZXJQb29sO1xyXG4gIC8vIHJlYWRvbmx5IGFwaTogYXBwc3luYy5HcmFwaHFsQXBpO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgV2Vic29ja2V0QmFja2VuZEFQSSBleHRlbmRzIENvbnN0cnVjdCB7XHJcbiAgcHVibGljIHJlYWRvbmx5IHdzQVBJIDogYXBpZ3d2Mi5XZWJTb2NrZXRBcGk7XHJcbiAgcHVibGljIHJlYWRvbmx5IHdzQVBJU3RhZ2UgOiBhcGlnd3YyLldlYlNvY2tldFN0YWdlO1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgc2NvcGU6IENvbnN0cnVjdCxcclxuICAgIGlkOiBzdHJpbmcsXHJcbiAgICBwcm9wczogV2Vic29ja2V0QmFja2VuZEFQSVByb3BzXHJcbiAgKSB7XHJcbiAgICBzdXBlcihzY29wZSwgaWQpO1xyXG4gICAgLy8gQ3JlYXRlIHRoZSBtYWluIE1lc3NhZ2UgVG9waWMgYWN0aW5nIGFzIGEgbWVzc2FnZSBidXNcclxuICAgIGNvbnN0IHdlYlNvY2tldEFwaSA9IG5ldyBhcGlnd3YyLldlYlNvY2tldEFwaSh0aGlzLCAnV1MtQVBJJyk7XHJcbiAgICBjb25zdCB3ZWJTb2NrZXRBcGlTdGFnZSA9ICBuZXcgYXBpZ3d2Mi5XZWJTb2NrZXRTdGFnZSh0aGlzLCAnV1MtQVBJLXByb2QnLCB7XHJcbiAgICAgIHdlYlNvY2tldEFwaSxcclxuICAgICAgc3RhZ2VOYW1lOiAncHJvZCcsXHJcbiAgICAgIGF1dG9EZXBsb3k6IHRydWUsICAgICAgXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdGhpcy53c0FQSSA9IHdlYlNvY2tldEFwaTtcclxuICAgIHRoaXMud3NBUElTdGFnZSA9IHdlYlNvY2tldEFwaVN0YWdlO1xyXG4gICAgXHJcbiAgfVxyXG5cclxufVxyXG4iXX0=